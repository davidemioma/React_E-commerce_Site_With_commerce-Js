{"version":3,"sources":["components/loadingSpinner/LoadingSpinner.module.css","components/products/ProductList.module.css","components/checkout/CheckoutForm.module.css","lib/commerce.js","store/CartProvider.js","components/loadingSpinner/LoadingSpinner.js","components/cart/CartItem.js","components/cart/CartList.js","assets/commerce.png","components/navigation/NavBar.js","pages/Cart.js","components/products/ProductItem.js","components/products/ProductList.js","pages/Products.js","components/checkout/FormInput.js","components/checkout/AddressForm.js","components/checkout/PaymentForm.js","components/checkout/Confirmation.js","components/checkout/CheckoutForm.js","pages/Checkout.js","App.js","index.js","components/cart/CartList.module.css","components/cart/CartItem.module.css","components/checkout/PaymentForm.module.css","components/checkout/AddressForm.module.css","components/products/ProductItem.module.css","components/navigation/NavBar.module.css","components/checkout/Confirmation.module.css"],"names":["module","exports","commerce","Commerce","process","CartContext","createContext","cart","setCart","checkoutToken","setCheckoutToken","order","setOrder","useCart","useContext","CartProvider","children","useState","value","Provider","LoadingSpinner","className","classes","spinner","CartItem","item","addCartItemQty","minusartItemQty","removeItem","itemImg","src","image","url","alt","name","details","info","price","formatted_with_symbol","controls","onClick","id","quantity","removeBtn","CartList","cartCtx","navigate","useNavigate","onRemoveItem","productId","a","remove","emptyCartHandler","empty","upadateCartQtyHandler","update","EmptyCart","link","to","FilledCart","cartList","line_items","map","length","subtotal","emptyCart","push","checkout","NavBar","inCartPage","nav","navBar","replace","logo","IconButton","color","Badge","badgeContent","total_items","ShoppingCart","Cart","fetchCart","useCallback","retrieve","useQuery","isLoading","error","data","ProductItem","product","onAddToCart","productImg","description","slice","AddShoppingCart","ProductList","products","onAddToCartHandler","add","list","Products","fetchProducts","FormInput","label","control","useFormContext","render","field","onChange","onBlur","Input","style","width","placeholder","defaultValue","fullWidth","required","AddressForm","next","methods","useForm","shippingCountries","setShippingCountries","shippingCountry","setShippingCountry","shippingSubdivisions","setShippingSubdivisions","shippingSubdivision","setShippingSubdivision","shippingOptions","setShippingOptions","shippingOption","setShippingOption","fetchshippingCountries","checkoutTokenId","services","localeListShippingCountries","countries","Object","keys","fetchCountrySubdivisions","countryCode","localeListSubdivisions","subdivisions","fetchShippingOptions","country","stateProvince","getShippingOptions","region","options","useEffect","entries","subDivisions","so","onSubmit","handleSubmit","formContent","InputLabel","Select","e","target","MenuItem","subDivision","option","type","backBtn","nextBtn","stripePromise","loadStripe","PaymentForm","shippingData","backStep","onCaptureCheckout","timeout","nextStep","event","elements","stripe","preventDefault","cardElement","getElement","CardElement","createPaymentMethod","card","paymentMethod","console","log","orderData","live","customer","firstname","firstName","lastname","lastName","email","shipping","street","address","town_city","city","county_state","postal_zip_code","zip","fulfillment","shipping_method","payment","gateway","payment_method_id","paymentForm","fontWeight","opacity","line_total","Divider","disabled","Confirmation","isFinished","onClickHandler","confirmation","customer_reference","steps","CheckoutForm","activeStep","setActiveStep","setShippingData","errorMessage","setErrorMessage","setIsFinished","generateTokenId","generateToken","token","prevActiveStep","handleNext","setTimeout","refreshCart","refresh","newCart","handleCaptureCheckout","newOrder","capture","incomingOrder","message","Form","Stepper","step","Step","StepLabel","textAlign","Checkout","App","path","element","queryClient","QueryClient","ReactDOM","client","document","getElementById"],"mappings":"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","file":"static/js/main.72df1279.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"LoadingSpinner_spinner__1wfqD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ProductList_list__2693N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkout\":\"CheckoutForm_checkout__1_6Wd\"};","import Commerce from \"@chec/commerce.js\";\n\nexport const commerce = new Commerce(\n  process.env.REACT_APP_CHEC_PUBLIC_KEY,\n  true\n);\n","import { createContext, useContext, useState } from \"react\";\n\nconst CartContext = createContext({\n  cart: {},\n  setCart: () => {},\n  checkoutToken: {},\n  setCheckoutToken: () => {},\n  order: {},\n  setOrder: () => {},\n});\n\nexport function useCart() {\n  return useContext(CartContext);\n}\n\nexport const CartProvider = ({ children }) => {\n  const [cart, setCart] = useState({});\n\n  const [checkoutToken, setCheckoutToken] = useState(null);\n\n  const [order, setOrder] = useState({});\n\n  const value = {\n    cart,\n    setCart,\n    checkoutToken,\n    setCheckoutToken,\n    order,\n    setOrder,\n  };\n\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\n};\n","import classes from \"./LoadingSpinner.module.css\";\n\nconst LoadingSpinner = () => {\n  return <div className={classes.spinner}></div>;\n};\n\nexport default LoadingSpinner;\n","import React from \"react\";\nimport classes from \"./CartItem.module.css\";\n\nexport default function CartItem({\n  item,\n  addCartItemQty,\n  minusartItemQty,\n  removeItem,\n}) {\n  const onAddCartItemQty = () => {\n    addCartItemQty(item.id, item.quantity + 1);\n  };\n\n  const onMinusCartItemQty = () => {\n    minusartItemQty(item.id, item.quantity - 1);\n  };\n\n  const onRemoveItem = () => {\n    removeItem(item.id);\n  };\n\n  return (\n    <div className={classes.item}>\n      <img className={classes.itemImg} src={item.image.url} alt={item.name} />\n\n      <div className={classes.details}>\n        <div className={classes.info}>\n          <h3>{item.name}</h3>\n          <h3>{item.price.formatted_with_symbol}</h3>\n        </div>\n\n        <div className={classes.controls}>\n          <div>\n            <button onClick={onMinusCartItemQty}>-</button>\n\n            <p>{item.quantity}</p>\n\n            <button onClick={onAddCartItemQty}>+</button>\n          </div>\n\n          <button onClick={onRemoveItem} className={classes.removeBtn}>\n            Remove\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport classes from \"./CartList.module.css\";\nimport CartItem from \"./CartItem\";\nimport { commerce } from \"../../lib/commerce\";\nimport { useCart } from \"../../store/CartProvider\";\nimport { useNavigate } from \"react-router\";\n\nexport default function CartList({ cart }) {\n  const cartCtx = useCart();\n\n  const navigate = useNavigate();\n\n  const onRemoveItem = async (productId) => {\n    const { cart } = await commerce.cart.remove(productId);\n\n    cartCtx.setCart(cart);\n  };\n\n  const emptyCartHandler = async () => {\n    const { cart } = await commerce.cart.empty();\n\n    cartCtx.setCart(cart);\n  };\n\n  const upadateCartQtyHandler = async (productId, quantity) => {\n    const { cart } = await commerce.cart.update(productId, { quantity });\n\n    cartCtx.setCart(cart);\n  };\n\n  const checkoutHandler = () => {\n    navigate(\"/checkout\", { push: true });\n  };\n\n  const EmptyCart = () => {\n    return (\n      <p className={classes.link}>\n        You have no items in Your shopping cart,{\" \"}\n        <Link to=\"/\">start adding some!</Link>\n      </p>\n    );\n  };\n\n  const FilledCart = () => {\n    return (\n      <div className={classes.cartList}>\n        {cart.line_items.map((item) => (\n          <CartItem\n            key={item.id}\n            item={item}\n            addCartItemQty={upadateCartQtyHandler}\n            minusartItemQty={upadateCartQtyHandler}\n            removeItem={onRemoveItem}\n          />\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Your Shopping Cart</h1>\n\n      {cart.line_items.length <= 0 ? (\n        <EmptyCart />\n      ) : (\n        <Fragment>\n          <FilledCart />\n\n          <div className={classes.details}>\n            <div className={classes.info}>\n              <p>\n                <span>SubTotal:</span>\n                {cart.subtotal.formatted_with_symbol}\n              </p>\n            </div>\n\n            <div className={classes.controls}>\n              <button onClick={emptyCartHandler} className={classes.emptyCart}>\n                empty cart\n              </button>\n\n              <button onClick={checkoutHandler} className={classes.checkout}>\n                checkout\n              </button>\n            </div>\n          </div>\n        </Fragment>\n      )}\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/commerce.457bea4f.png\";","import React from \"react\";\nimport classes from \"./NavBar.module.css\";\nimport logo from \"../../assets/commerce.png\";\nimport { ShoppingCart } from \"@mui/icons-material\";\nimport { Badge, IconButton } from \"@mui/material\";\nimport { useCart } from \"../../store/CartProvider\";\nimport { useNavigate } from \"react-router\";\n\nexport default function NavBar({ inCartPage }) {\n  const cartCtx = useCart();\n\n  const navigate = useNavigate();\n\n  const showCartHandler = () => {\n    navigate(\"/cart\", { push: true });\n  };\n\n  const goHomeHandler = () => {\n    navigate(\"/\", { replace: true });\n  };\n\n  return (\n    <div className={classes.nav}>\n      <nav className={classes.navBar}>\n        <div onClick={goHomeHandler}>\n          <img src={logo} alt=\"\" />\n\n          <h3>Commerce.js</h3>\n        </div>\n\n        {!inCartPage && (\n          <IconButton\n            onClick={showCartHandler}\n            aria-label=\"Show cart items\"\n            color=\"inherit\"\n          >\n            <Badge badgeContent={cartCtx.cart.total_items} color=\"secondary\">\n              <ShoppingCart />\n            </Badge>\n          </IconButton>\n        )}\n      </nav>\n    </div>\n  );\n}\n","import React, { Fragment, useCallback } from \"react\";\nimport { commerce } from \"../lib/commerce\";\nimport { useCart } from \"../store/CartProvider\";\nimport LoadingSpinner from \"../components/loadingSpinner/LoadingSpinner\";\nimport CartList from \"../components/cart/CartList\";\nimport NavBar from \"../components/navigation/NavBar\";\nimport { useQuery } from \"react-query\";\n\nexport default function Cart() {\n  const cartCtx = useCart();\n\n  const fetchCart = useCallback(async () => {\n    const cart = await commerce.cart.retrieve();\n\n    cartCtx.setCart(cart);\n\n    return cart;\n  }, [cartCtx]);\n\n  const { isLoading, error, data } = useQuery(\"cart\", fetchCart);\n\n  return (\n    <Fragment>\n      <NavBar inCartPage={true} />\n\n      {isLoading && (\n        <div className=\"centered\">\n          <LoadingSpinner />\n        </div>\n      )}\n\n      {error && (\n        <div className=\"centered\">\n          <p>Could not get cart ata</p>\n        </div>\n      )}\n\n      {data && <CartList cart={cartCtx.cart} />}\n    </Fragment>\n  );\n}\n","import React from \"react\";\nimport classes from \"./ProductItem.module.css\";\nimport { AddShoppingCart } from \"@mui/icons-material\";\n\nexport default function ProductItem({ product, onAddToCart }) {\n  const addToCartHandler = () => {\n    onAddToCart(product.id, 1);\n  };\n\n  return (\n    <div className={classes.product}>\n      <img\n        className={classes.productImg}\n        src={product.image.url}\n        alt={product.name}\n      />\n\n      <div className={classes.details}>\n        <div>\n          <h3>{product.name}</h3>\n          <h3>{product.price.formatted_with_symbol}</h3>\n        </div>\n\n        <p>{product.description.slice(3, -4)}</p>\n\n        <button onClick={addToCartHandler}>\n          <AddShoppingCart />\n        </button>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport classes from \"./ProductList.module.css\";\nimport ProductItem from \"./ProductItem\";\nimport { commerce } from \"../../lib/commerce\";\nimport { useCart } from \"../../store/CartProvider\";\n\nexport default function ProductList({ products }) {\n  const cartCtx = useCart();\n\n  const onAddToCartHandler = async (productId, quantity) => {\n    const { cart } = await commerce.cart.add(productId, quantity);\n\n    cartCtx.setCart(cart);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className={classes.list}>\n        {products.map((product) => (\n          <ProductItem\n            key={product.id}\n            product={product}\n            onAddToCart={onAddToCartHandler}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import React, { Fragment, useCallback } from \"react\";\nimport ProductList from \"../components/products/ProductList\";\nimport { commerce } from \"../lib/commerce\";\nimport { useQuery } from \"react-query\";\nimport LoadingSpinner from \"../components/loadingSpinner/LoadingSpinner\";\nimport NavBar from \"../components/navigation/NavBar\";\n\nexport default function Products() {\n  const fetchProducts = useCallback(async () => {\n    const { data } = await commerce.products.list();\n\n    return data;\n  }, []);\n\n  const { isLoading, error, data } = useQuery(\"products\", fetchProducts);\n\n  return (\n    <Fragment>\n      <NavBar inCartPage={false} />\n\n      {isLoading && (\n        <div className=\"centered\">\n          <LoadingSpinner />\n        </div>\n      )}\n\n      {error && (\n        <div className=\"centered\">\n          <p>No products available</p>\n        </div>\n      )}\n\n      {data && <ProductList products={data} />}\n    </Fragment>\n  );\n}\n","import React from \"react\";\nimport { Input } from \"@mui/material\";\nimport { useFormContext, Controller } from \"react-hook-form\";\n\nexport default function FormInput({ name, label }) {\n  const { control } = useFormContext();\n\n  return (\n    <div>\n      <Controller\n        render={({ field: { onChange, onBlur, value } }) => (\n          <Input\n            value={value}\n            onBlur={onBlur}\n            onChange={onChange}\n            style={{ width: \"100%\" }}\n            placeholder={label}\n          />\n        )}\n        defaultValue=\"\"\n        control={control}\n        fullWidth\n        name={name}\n        label={label}\n        required\n      />\n    </div>\n  );\n}\n","import { InputLabel, MenuItem, Select } from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { FormProvider, useForm } from \"react-hook-form\";\nimport FormInput from \"./FormInput\";\nimport { commerce } from \"../../lib/commerce\";\nimport { useCart } from \"../../store/CartProvider\";\nimport classes from \"./AddressForm.module.css\";\nimport { useNavigate } from \"react-router\";\n\nexport default function AddressForm({ next }) {\n  const methods = useForm();\n\n  const cartCtx = useCart();\n\n  const navigate = useNavigate();\n\n  const [shippingCountries, setShippingCountries] = useState([]);\n\n  const [shippingCountry, setShippingCountry] = useState(\"\");\n\n  const [shippingSubdivisions, setShippingSubdivisions] = useState([]);\n\n  const [shippingSubdivision, setShippingSubdivision] = useState(\"\");\n\n  const [shippingOptions, setShippingOptions] = useState([]);\n\n  const [shippingOption, setShippingOption] = useState(\"\");\n\n  const fetchshippingCountries = async (checkoutTokenId) => {\n    const { countries } = await commerce.services.localeListShippingCountries(\n      checkoutTokenId\n    );\n\n    setShippingCountries(countries);\n\n    setShippingCountry(Object.keys(countries)[0]);\n  };\n\n  const fetchCountrySubdivisions = async (countryCode) => {\n    const { subdivisions } = await commerce.services.localeListSubdivisions(\n      countryCode\n    );\n\n    setShippingSubdivisions(subdivisions);\n\n    setShippingSubdivision(Object.keys(subdivisions)[0]);\n  };\n\n  const fetchShippingOptions = async (\n    checkoutTokenId,\n    country,\n    stateProvince = null\n  ) => {\n    const options = await commerce.checkout.getShippingOptions(\n      checkoutTokenId,\n      { country, region: stateProvince }\n    );\n\n    setShippingOptions(options);\n\n    setShippingOption(options[0].id);\n  };\n\n  useEffect(() => {\n    fetchshippingCountries(cartCtx.checkoutToken.id);\n  }, []);\n\n  useEffect(() => {\n    if (shippingCountry) {\n      fetchCountrySubdivisions(shippingCountry);\n    }\n  }, [shippingCountry]);\n\n  useEffect(() => {\n    if (shippingSubdivision) {\n      fetchShippingOptions(\n        cartCtx.checkoutToken.id,\n        shippingCountry,\n        shippingSubdivision\n      );\n    }\n  }, [shippingSubdivision]);\n\n  const countries = Object.entries(shippingCountries).map(([code, name]) => ({\n    id: code,\n    label: name,\n  }));\n\n  const subDivisions = Object.entries(shippingSubdivisions).map(\n    ([code, name]) => ({\n      id: code,\n      label: name,\n    })\n  );\n\n  const options = shippingOptions.map((so) => ({\n    id: so.id,\n    label: `${so.description} - (${so.price.formatted_with_symbol}) `,\n  }));\n\n  const onBackBtnHandler = () => {\n    navigate(\"/cart\", { replace: true });\n  };\n\n  return (\n    <div>\n      <h3>Shipping address</h3>\n\n      <FormProvider {...methods}>\n        <form\n          onSubmit={methods.handleSubmit((data) =>\n            next({\n              ...data,\n              shippingCountry,\n              shippingSubdivision,\n              shippingOption,\n            })\n          )}\n        >\n          <div className={classes.formContent}>\n            <FormInput name=\"firstName\" label=\"First name\" />\n\n            <FormInput name=\"lastName\" label=\"Last name\" />\n\n            <FormInput name=\"address\" label=\"Address line 1\" />\n\n            <FormInput name=\"email\" label=\"Email\" />\n\n            <FormInput name=\"city\" label=\"City\" />\n\n            <FormInput name=\"code\" label=\"Zip/Postal code\" />\n\n            <div>\n              <InputLabel>Shipping Countries</InputLabel>\n\n              <Select\n                value={shippingCountry}\n                fullWidth\n                onChange={(e) => setShippingCountry(e.target.value)}\n              >\n                {countries.map((country) => (\n                  <MenuItem key={country.id} value={country.id}>\n                    {country.label}\n                  </MenuItem>\n                ))}\n              </Select>\n            </div>\n\n            <div>\n              <InputLabel>Shipping Subdivision</InputLabel>\n\n              <Select\n                value={shippingSubdivision}\n                fullWidth\n                onChange={(e) => setShippingSubdivision(e.target.value)}\n              >\n                {subDivisions.map((subDivision) => (\n                  <MenuItem key={subDivision.id} value={subDivision.id}>\n                    {subDivision.label}\n                  </MenuItem>\n                ))}\n              </Select>\n            </div>\n\n            <div>\n              <InputLabel>Shipping Options</InputLabel>\n\n              <Select\n                value={shippingOption}\n                fullWidth\n                onChange={(e) => setShippingOption(e.target.value)}\n              >\n                {options.map((option) => (\n                  <MenuItem key={option.id} value={option.id}>\n                    {option.label}\n                  </MenuItem>\n                ))}\n              </Select>\n            </div>\n          </div>\n\n          <div className={classes.controls}>\n            <button\n              type=\"button\"\n              className={classes.backBtn}\n              onClick={onBackBtnHandler}\n            >\n              back to cart\n            </button>\n\n            <button type=\"submit\" className={classes.nextBtn}>\n              next\n            </button>\n          </div>\n        </form>\n      </FormProvider>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport {\n  Elements,\n  CardElement,\n  ElementsConsumer,\n} from \"@stripe/react-stripe-js\";\nimport { useCart } from \"../../store/CartProvider\";\nimport classes from \"./PaymentForm.module.css\";\nimport { Divider } from \"@mui/material\";\n\nconst stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLIC_KEY);\n\nexport default function PaymentForm({\n  shippingData,\n  backStep,\n  onCaptureCheckout,\n  timeout,\n  nextStep,\n}) {\n  const cartCtx = useCart();\n\n  const handleSubmit = async (event, elements, stripe) => {\n    event.preventDefault();\n\n    if (!stripe || !elements) return;\n\n    const cardElement = elements.getElement(CardElement);\n\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\n      type: \"card\",\n      card: cardElement,\n    });\n\n    if (error) {\n      console.log(error);\n    } else {\n      const orderData = {\n        line_items: cartCtx.checkoutToken.live.line_items,\n        customer: {\n          firstname: shippingData.firstName,\n          lastname: shippingData.lastName,\n          email: shippingData.email,\n        },\n        shipping: {\n          name: \"Primary\",\n          street: shippingData.address,\n          town_city: shippingData.city,\n          county_state: shippingData.shippingSubdivision,\n          postal_zip_code: shippingData.zip,\n          country: shippingData.shippingCountry,\n        },\n        fulfillment: { shipping_method: shippingData.shippingOption },\n        payment: {\n          gateway: \"stripe\",\n          stripe: {\n            payment_method_id: paymentMethod.id,\n          },\n        },\n      };\n\n      onCaptureCheckout(cartCtx.checkoutToken.id, orderData);\n\n      timeout();\n\n      nextStep();\n    }\n  };\n\n  return (\n    <div className={classes.paymentForm}>\n      <h3>Order summary</h3>\n\n      <div className={classes.list}>\n        {cartCtx.checkoutToken.live.line_items.map((product) => (\n          <div key={product.id}>\n            <span>\n              <p style={{ fontWeight: 800 }}>{product.name}</p>\n              <p style={{ opacity: 0.6 }}>Quantity: {product.quantity}</p>\n            </span>\n\n            <p>{product.line_total.formatted_with_symbol}</p>\n          </div>\n        ))}\n      </div>\n\n      <div className={classes.details}>\n        <p>Total</p>\n        <p style={{ fontWeight: 800 }}>\n          {cartCtx.checkoutToken.live.subtotal.formatted_with_symbol}\n        </p>\n      </div>\n\n      <Divider />\n\n      <h3>Payment method</h3>\n\n      <Elements stripe={stripePromise}>\n        <ElementsConsumer>\n          {({ elements, stripe }) => (\n            <form onSubmit={(e) => handleSubmit(e, elements, stripe)}>\n              <CardElement />\n\n              <div className={classes.controls}>\n                <button\n                  onClick={() => backStep()}\n                  type=\"button\"\n                  className={classes.backBtn}\n                >\n                  back\n                </button>\n\n                <button\n                  type=\"submit\"\n                  className={classes.nextBtn}\n                  disabled={!stripe}\n                >\n                  Pay{\" \"}\n                  {cartCtx.checkoutToken.live.subtotal.formatted_with_symbol}\n                </button>\n              </div>\n            </form>\n          )}\n        </ElementsConsumer>\n      </Elements>\n    </div>\n  );\n}\n","import classes from \"./Confirmation.module.css\";\nimport React, { Fragment } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { useCart } from \"../../store/CartProvider\";\nimport LoadingSpinner from \"../loadingSpinner/LoadingSpinner\";\nimport { Divider } from \"@mui/material\";\n\nexport default function Confirmation({ isFinished }) {\n  const navigate = useNavigate();\n\n  const cartCtx = useCart();\n\n  const onClickHandler = () => {\n    navigate(\"/\", { replace: true });\n  };\n\n  return (\n    <Fragment>\n      {cartCtx.order.customer ? (\n        <div className={classes.confirmation}>\n          <h3>\n            Thank you for your purchase, {cartCtx.order.customer.firstname}{\" \"}\n            {cartCtx.order.customer.lastname}\n          </h3>\n\n          <Divider />\n\n          <p>Order Ref: {cartCtx.order.customer_reference}</p>\n\n          <button onClick={onClickHandler}>Back to home</button>\n        </div>\n      ) : isFinished ? (\n        <div className={classes.confirmation}>\n          <h3>Thank you for your purchase</h3>\n\n          <Divider />\n\n          <button onClick={onClickHandler}>Back to home</button>\n        </div>\n      ) : (\n        <div className=\"centered\">\n          <LoadingSpinner />\n        </div>\n      )}\n    </Fragment>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Step, StepLabel, Stepper } from \"@mui/material\";\nimport classes from \"./CheckoutForm.module.css\";\nimport AddressForm from \"./AddressForm\";\nimport PaymentForm from \"./PaymentForm\";\nimport Confirmation from \"./Confirmation\";\nimport { commerce } from \"../../lib/commerce\";\nimport { useCart } from \"../../store/CartProvider\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router\";\n\nconst steps = [\"Shipping address\", \"Payment details\"];\n\nexport default function CheckoutForm() {\n  const [activeStep, setActiveStep] = useState(0);\n\n  const [shippingData, setShippingData] = useState({});\n\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const [isFinished, setIsFinished] = useState(false);\n\n  const navigate = useNavigate();\n\n  const cartCtx = useCart();\n\n  useEffect(() => {\n    const generateTokenId = async () => {\n      try {\n        const token = await commerce.checkout.generateToken(cartCtx.cart.id, {\n          type: \"cart\",\n        });\n\n        console.log(token);\n\n        cartCtx.setCheckoutToken(token);\n      } catch (err) {\n        console.log(err);\n\n        navigate(\"/\", { replace: true });\n      }\n    };\n\n    generateTokenId();\n  }, [cartCtx.cart]);\n\n  const nextStep = () => setActiveStep((prevActiveStep) => prevActiveStep + 1);\n\n  const backStep = () => setActiveStep((prevActiveStep) => prevActiveStep - 1);\n\n  const handleNext = (data) => {\n    console.log(\"data:\", data);\n\n    setShippingData(data);\n\n    nextStep();\n  };\n\n  const timeout = () => {\n    setTimeout(() => {\n      setIsFinished(true);\n    }, 10000);\n  };\n\n  const refreshCart = async () => {\n    const newCart = await commerce.cart.refresh();\n\n    cartCtx.setCart(newCart);\n  };\n\n  const handleCaptureCheckout = async (checkoutTokenId, newOrder) => {\n    try {\n      const incomingOrder = await commerce.checkout.capture(\n        checkoutTokenId,\n        newOrder\n      );\n\n      cartCtx.setOrder(incomingOrder);\n\n      refreshCart();\n    } catch (err) {\n      setErrorMessage(err.data.error.message);\n    }\n  };\n\n  const Form = () =>\n    activeStep === 0 ? (\n      <AddressForm next={handleNext} />\n    ) : (\n      <PaymentForm\n        shippingData={shippingData}\n        backStep={backStep}\n        onCaptureCheckout={handleCaptureCheckout}\n        timeout={timeout}\n        nextStep={nextStep}\n      />\n    );\n\n  return (\n    <div className={classes.checkout}>\n      <h1>Checkout</h1>\n\n      <Stepper activeStep={activeStep}>\n        {steps.map((step) => (\n          <Step key={step}>\n            <StepLabel>{step}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n\n      {activeStep === steps.length ? (\n        errorMessage ? (\n          <Confirmation isFinished={isFinished} />\n        ) : (\n          <p style={{ textAlign: \"center\" }}>\n            {errorMessage}, go to home page <Link to=\"/\">Home page</Link>\n          </p>\n        )\n      ) : (\n        cartCtx.checkoutToken && <Form />\n      )}\n    </div>\n  );\n}\n","import React, { Fragment } from \"react\";\nimport NavBar from \"../components/navigation/NavBar\";\nimport CheckoutForm from \"../components/checkout/CheckoutForm\";\n\nexport default function Checkout() {\n  return (\n    <Fragment>\n      <NavBar inCartPage={true} />\n\n      <CheckoutForm />\n    </Fragment>\n  );\n}\n","import Cart from \"./pages/Cart\";\nimport Products from \"./pages/Products\";\nimport { Routes, Route } from \"react-router\";\nimport Checkout from \"./pages/Checkout\";\n\nfunction App() {\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Products />} />\n\n      <Route path=\"/cart\" element={<Cart />} />\n\n      <Route path=\"/checkout\" element={<Checkout />} />\n    </Routes>\n  );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { CartProvider } from \"./store/CartProvider\";\n\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n  <BrowserRouter>\n    <CartProvider>\n      <QueryClientProvider client={queryClient}>\n        <App />\n      </QueryClientProvider>\n    </CartProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"CartList_link__2lA1-\",\"cartList\":\"CartList_cartList__GNb66\",\"details\":\"CartList_details__1fgym\",\"info\":\"CartList_info__Zs_YB\",\"controls\":\"CartList_controls__DfIj_\",\"emptyCart\":\"CartList_emptyCart__1M8qX\",\"checkout\":\"CartList_checkout__2dGuq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CartItem_item__22A-d\",\"itemImg\":\"CartItem_itemImg__1RXJT\",\"details\":\"CartItem_details__2RXnu\",\"info\":\"CartItem_info__2KBtm\",\"controls\":\"CartItem_controls__2YhJ-\",\"removeBtn\":\"CartItem_removeBtn__357IK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paymentForm\":\"PaymentForm_paymentForm__37atW\",\"list\":\"PaymentForm_list__307Zs\",\"details\":\"PaymentForm_details__miuuW\",\"controls\":\"PaymentForm_controls__1xVYJ\",\"backBtn\":\"PaymentForm_backBtn__81SGc\",\"nextBtn\":\"PaymentForm_nextBtn__2mAil\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formContent\":\"AddressForm_formContent__aiL2i\",\"controls\":\"AddressForm_controls__T1fvp\",\"backBtn\":\"AddressForm_backBtn__2bP2l\",\"nextBtn\":\"AddressForm_nextBtn__1R9vP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"product\":\"ProductItem_product__16DI6\",\"productImg\":\"ProductItem_productImg__3AT52\",\"details\":\"ProductItem_details__39SN5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__2VTmb\",\"navBar\":\"NavBar_navBar__2dFiC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirmation\":\"Confirmation_confirmation__14DWr\"};"],"sourceRoot":""}